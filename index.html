<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Studio — Boeing 747 (Lenis + GSAP + Pixi + Scroll Video)</title>
<meta name="description" content="Scroll suave, vídeo controlado pela rolagem, parallax 3D, displacement líquido e galeria horizontal. Vitrine de webdesigner para vender site premium.">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0b0c10; --panel:#101317; --ink:#e9eef5; --muted:#9aa3b2;
    --acc1:#6EE7F9; --acc2:#8A2BE2; --acc3:#A78BFA;
    --glass:rgba(255,255,255,.06); --br:16px;
  }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;-webkit-font-smoothing:antialiased}
  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block}
  .wrap{position:relative;overflow-x:hidden}

  /* NAV */
  .nav{position:fixed;inset:18px 24px auto; z-index:30;display:flex;justify-content:space-between;align-items:center;
       padding:10px 14px;border:1px solid rgba(255,255,255,.06);border-radius:999px;background:rgba(8,10,14,.5);backdrop-filter: blur(10px)}
  .brand{font-family:Montserrat;font-weight:800;letter-spacing:.3px;background:linear-gradient(90deg,var(--acc1),var(--acc2));-webkit-background-clip:text;background-clip:text;color:transparent}
  .nav a{color:#c9d2e3;margin-left:14px;font-size:.92rem}

  /* HERO */
  .hero{position:relative;min-height:140svh;display:grid;place-items:center;padding:14vh 6vw 10vh;isolation:isolate}
  .hero .grid{max-width:1200px;display:grid;grid-template-columns:1.2fr .8fr;gap:4rem;align-items:center}
  @media (max-width:980px){.hero .grid{grid-template-columns:1fr;gap:2rem}}
  .eyebrow{letter-spacing:2px;color:var(--muted);font-size:.9rem;margin-bottom:1rem}
  h1{font-family:Montserrat;font-size:clamp(2.3rem,6vw,4.8rem);line-height:.98;margin:0}
  .accent{background:linear-gradient(90deg,var(--acc1),var(--acc2) 60%,var(--acc3));-webkit-background-clip:text;background-clip:text;color:transparent}
  .lead{color:var(--muted);margin:1rem 0 1.6rem;max-width:58ch}
  .ctas{display:flex;gap:12px;flex-wrap:wrap}
  .btn{border:none;border-radius:999px;padding:12px 18px;font-weight:700;cursor:pointer;transition:.2s transform,.2s box-shadow}
  .btn.primary{background:linear-gradient(90deg,var(--acc1),var(--acc2));color:#07141a;box-shadow:0 10px 40px rgba(138,43,226,.18)}
  .btn.ghost{background:transparent;color:#fff;border:1px solid rgba(255,255,255,.08)}
  .btn:active{transform:scale(.98)}
  .magnetic{display:inline-block}

  /* Scroll-driven video container */
  .svideo{position:relative;border-radius:24px;overflow:hidden;border:1px solid rgba(255,255,255,.06);
          box-shadow:0 30px 80px rgba(2,6,23,.55),0 10px 30px rgba(0,0,0,.35)}
  .svideo video{width:100%;height:auto;display:block;filter:saturate(1.03) contrast(1.04)}
  .svideo .overlay{position:absolute;inset:0;background:radial-gradient(800px 400px at 80% 10%,rgba(110,231,249,.10),transparent 60%)}

  /* PARALLAX MOCKUP / PIXI CARD */
  .panel3d{perspective:900px}
  .tilt{transform-style:preserve-3d;transition:transform .2s}
  .pixi-card{position:relative;border-radius:22px;overflow:hidden;border:1px solid rgba(255,255,255,.06);background:var(--panel)}
  .pixi-stage{width:100%;height:360px}
  .chip{position:absolute;left:14px;bottom:14px;border:1px solid rgba(255,255,255,.18);border-radius:999px;padding:8px 12px;background:rgba(0,0,0,.35);backdrop-filter:blur(6px)}

  /* SECTIONS */
  section{padding:8rem 6vw}
  .section-title{font-family:Montserrat;margin:0 0 .6rem}
  .sub{color:var(--muted);max-width:65ch}
  .reveal{opacity:0;transform:translateY(26px)}

  /* SERVICES GRID */
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px;margin-top:1.6rem}
  .card{grid-column:span 3;min-height:180px;padding:18px;border-radius:14px;border:1px solid rgba(255,255,255,.06);background:rgba(255,255,255,.03)}
  .card h4{margin:.2rem 0 .4rem}
  @media (max-width:1000px){.card{grid-column:span 6}}
  @media (max-width:680px){.card{grid-column:span 12}}

  /* HORIZONTAL GALLERY */
  .hwrap{position:relative;height:100vh}
  .hpin{position:sticky;top:0;height:100vh;display:grid;place-items:center;overflow:hidden;border-top:1px solid rgba(255,255,255,.06);border-bottom:1px solid rgba(255,255,255,.06);background:linear-gradient(#0b0c10,#0c0f14)}
  .htrack{display:flex;gap:28px;will-change:transform}
  .shot{flex:0 0 70vw;max-width:900px;aspect-ratio:16/9;border-radius:18px;overflow:hidden;border:1px solid rgba(255,255,255,.08)}
  .shot img{width:100%;height:100%;object-fit:cover;filter:saturate(1.05) contrast(1.05)}

  /* STICKY PANELS */
  .panels{display:grid;gap:24px}
  .panel{position:sticky;top:88px;background:var(--panel);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:22px}
  .panel h3{margin:.2rem 0}
  .panel p{color:var(--muted)}

  /* FOOTER */
  footer{padding:4rem 6vw;color:var(--muted);text-align:center;border-top:1px solid rgba(255,255,255,.06)}

  /* cursor trailer */
  .cursor{position:fixed;inset:auto;left:0;top:0;width:18px;height:18px;border-radius:50%;pointer-events:none;z-index:60;mix-blend:exclusion;background:#fff;opacity:.8;transform:translate(-50%,-50%)}
</style>
</head>
<body>
<div class="wrap">
  <nav class="nav">
    <div class="brand">Studio</div>
    <div>
      <a href="#servicos">Serviços</a>
      <a href="#galeria">Galeria</a>
      <a href="#processo">Processo</a>
      <a href="#contato">Contato</a>
    </div>
  </nav>

  <!-- HERO: texto + vídeo com scroll-scrub + card Pixi com displacement -->
  <header class="hero">
    <div class="grid">
      <div>
        <div class="eyebrow">SITES QUE PERFORMAM</div>
        <h1 class="split">Design <span class="accent">premium</span> com movimento e propósito.</h1>
        <p class="lead">Scroll macio, vídeo coreografado, interações líquidas e narrativa que empurra pro CTA. Isso vende.</p>
        <div class="ctas">
          <a class="btn primary magnetic" href="#contato">Quero proposta</a>
          <a class="btn ghost" href="#galeria">Ver trabalhos</a>
        </div>
      </div>

      <div class="panel3d">
        <!-- scroll-driven video -->
        <figure class="svideo tilt reveal" id="svideo">
          <video id="reel" src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4"
                 playsinline muted preload="auto"></video>
          <div class="overlay"></div>
        </figure>

        <!-- Pixi displacement card -->
        <div class="pixi-card tilt" style="margin-top:18px">
          <div class="pixi-stage" id="pixiStage"></div>
          <span class="chip">Displacement líquido no hover</span>
        </div>
      </div>
    </div>
  </header>

  <!-- SERVIÇOS -->
  <section id="servicos">
    <h2 class="section-title">Recursos de site premiado</h2>
    <p class="sub">Nada de firula vazia. Cada efeito existe por atenção, entendimento e ação.</p>
    <div class="grid">
      <article class="card reveal"><h4>Smooth Scroll (Lenis)</h4><p class="sub">Leitura cinematográfica e foco onde interessa.</p></article>
      <article class="card reveal"><h4>Vídeo por rolagem</h4><p class="sub">Frame setado no scroll. Controle total do ritmo.</p></article>
      <article class="card reveal"><h4>Parallax 3D</h4><p class="sub">Camadas em profundidade que respondem ao cursor.</p></article>
      <article class="card reveal"><h4>Displacement líquido</h4><p class="sub">Distorção suave que dá textura premium ao hover.</p></article>
      <article class="card reveal"><h4>Galeria horizontal pinada</h4><p class="sub">Portfólio em eixo X durante o scroll.</p></article>
      <article class="card reveal"><h4>Painéis sticky</h4><p class="sub">Narrativa com conteúdo fixo enquanto a página avança.</p></article>
      <article class="card reveal"><h4>Reveals por palavra</h4><p class="sub">Títulos com máscara para impacto controlado.</p></article>
      <article class="card reveal"><h4>Performance</h4><p class="sub">Lazy-load e CSS/JS objetivo. Sem peso inútil.</p></article>
    </div>
  </section>

  <!-- GALERIA HORIZONTAL -->
  <section id="galeria" class="hwrap">
    <div class="hpin">
      <div class="htrack" id="htrack">
        <figure class="shot"><img loading="lazy" src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=1600&auto=format&fit=crop" alt="Projeto 1"></figure>
        <figure class="shot"><img loading="lazy" src="https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?q=80&w=1600&auto=format&fit=crop" alt="Projeto 2"></figure>
        <figure class="shot"><img loading="lazy" src="https://images.unsplash.com/photo-1508921912186-1d1a45ebb3c1?q=80&w=1600&auto=format&fit=crop" alt="Projeto 3"></figure>
        <figure class="shot"><img loading="lazy" src="https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?q=80&w=1600&auto=format&fit=crop" alt="Projeto 4"></figure>
      </div>
    </div>
  </section>

  <!-- PROCESSO STICKY -->
  <section id="processo">
    <h2 class="section-title">Processo sem fumaça</h2>
    <div class="panels">
      <article class="panel reveal"><h3>1. Descoberta</h3><p>Objetivo e métricas claras. Sem isso, é decoração cara.</p></article>
      <article class="panel reveal"><h3>2. Arquitetura</h3><p>Mapa de conteúdo e jornada até o CTA. O usuário não se perde.</p></article>
      <article class="panel reveal"><h3>3. Entrega e medição</h3><p>Publica rápido, mede real, ajusta com dado. Site que não vende não está pronto.</p></article>
    </div>
  </section>

  <!-- CONTATO -->
  <section id="contato">
    <h2 class="section-title">Bora decolar esse projeto?</h2>
    <p class="sub">Manda o briefing. Eu devolvo com estratégia, cronograma e custo claro.</p>
    <div class="ctas" style="margin-top:1rem">
      <a class="btn primary magnetic" href="mailto:contato@seustudio.com">Pedir proposta</a>
      <a class="btn ghost" href="#galeria">Ver cases</a>
    </div>
  </section>

  <footer>© <span id="year"></span> Studio · feito com gosto e impaciência com site lento</footer>
</div>

<div class="cursor" id="cursor"></div>

<!-- libs -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
<script src="https://unpkg.com/@studio-freight/lenis@1.0.35/bundled/lenis.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/pixi.js@7.x/dist/pixi.min.js"></script>

<script>
  // ano
  document.getElementById('year').textContent = new Date().getFullYear();

  // smooth scroll
  const lenis = new Lenis({ lerp: 0.12, smoothWheel: true, wheelMultiplier: 1.05 });
  function raf(t){ lenis.raf(t); requestAnimationFrame(raf); }
  requestAnimationFrame(raf);
  gsap.ticker.add((time)=>{ lenis.raf(time * 1000) });
  lenis.on('scroll', ScrollTrigger.update);

  // split por palavra para reveal bonito
  document.querySelectorAll('.split').forEach(el=>{
    const words = el.innerHTML.split(' ').map(w=>`<span class="w" style="display:inline-block; overflow:hidden"><span class="i" style="display:inline-block; transform:translateY(110%)">${w}&nbsp;</span></span>`).join('');
    el.innerHTML = words;
    gsap.to(el.querySelectorAll('.i'), {y:0, duration:1.1, ease:"power3.out", stagger:0.04, delay:.1});
  });

  // reveals genéricos
  gsap.utils.toArray('.reveal').forEach(el=>{
    gsap.fromTo(el,{opacity:0,y:26},{opacity:1,y:0,duration:.9,scrollTrigger:{trigger:el,start:"top 85%",once:true}});
  });

  // cursor trailer
  const cursor = document.getElementById('cursor');
  let cx=0, cy=0, tx=0, ty=0;
  window.addEventListener('pointermove', e=>{ tx=e.clientX; ty=e.clientY; });
  (function trail(){ cx += (tx-cx)*0.18; cy += (ty-cy)*0.18; cursor.style.transform = `translate(${cx}px,${cy}px)`; requestAnimationFrame(trail) })();

  // tilt parallax simples
  document.querySelectorAll('.tilt').forEach(card=>{
    card.addEventListener('pointermove', e=>{
      const r = card.getBoundingClientRect();
      const dx = (e.clientX - (r.left + r.width/2)) / (r.width/2);
      const dy = (e.clientY - (r.top + r.height/2)) / (r.height/2);
      card.style.transform = `rotateY(${dx*10}deg) rotateX(${-dy*8}deg)`;
    });
    card.addEventListener('pointerleave', ()=> card.style.transform = `rotateY(0) rotateX(0)`);
  });

  // GSAP: vídeo guiado pelo scroll
  const video = document.getElementById('reel');
  video.addEventListener('loadedmetadata', ()=>{
    gsap.to(video, {
      currentTime: video.duration - 0.01,
      ease: 'none',
      scrollTrigger: {
        trigger: "#svideo",
        start: "top 80%",
        end: "bottom top",
        scrub: true
      }
    });
  }, { once: true });

  // GALERIA HORIZONTAL pinada
  const track = document.getElementById('htrack');
  const calcWidth = () => track.scrollWidth - innerWidth;
  gsap.to(track, {
    x: () => -calcWidth(),
    ease: "none",
    scrollTrigger:{
      trigger: ".hwrap",
      start: "top top",
      end: () => `+=${track.scrollWidth}`,
      scrub: true,
      pin: ".hpin",
      anticipatePin: 1
    }
  });

  // PixiJS displacement no card
  {
    const app = new PIXI.Application({ resizeTo: document.getElementById('pixiStage'), backgroundAlpha: 0, antialias: true });
    document.getElementById('pixiStage').appendChild(app.view);

    const imageURL = "https://images.unsplash.com/photo-1556157382-97eda2d62296?q=80&w=1600&auto=format&fit=crop";
    const dispURL = "https://images.unsplash.com/photo-1526318472351-c75fcf070305?q=80&w=800&auto=format&fit=crop";

    Promise.all([PIXI.Assets.load(imageURL), PIXI.Assets.load(dispURL)]).then(([texture, dispTex])=>{
      const sprite = new PIXI.Sprite(texture);
      sprite.anchor.set(0.5);
      sprite.x = app.renderer.width/2;
      sprite.y = app.renderer.height/2;
      // cover
      const scale = Math.max(app.renderer.width/texture.width, app.renderer.height/texture.height);
      sprite.scale.set(scale);

      const disp = new PIXI.Sprite(dispTex);
      const filter = new PIXI.filters.DisplacementFilter(disp, 100);
      disp.texture.baseTexture.wrapMode = PIXI.WRAP_MODES.REPEAT;
      app.stage.addChild(sprite);
      app.stage.addChild(disp);
      app.stage.filters = [filter];

      // loop deslocamento
      app.ticker.add(()=>{ disp.x += 1.2; disp.y += 0.8; });

      // hover mais forte
      const card = document.querySelector('.pixi-card');
      card.addEventListener('pointerenter', ()=> gsap.to(filter, { scaleX: 220, scaleY: 220, duration:.5, ease:"power3.out" }) );
      card.addEventListener('pointerleave', ()=> gsap.to(filter, { scaleX: 100, scaleY: 100, duration:.6, ease:"power3.out" }) );
      window.addEventListener('resize', ()=>{
        sprite.x = app.renderer.width/2; sprite.y = app.renderer.height/2;
        const sc = Math.max(app.renderer.width/texture.width, app.renderer.height/texture.height);
        sprite.scale.set(sc);
      });
    });
  }

  // atualiza ScrollTrigger on resize
  window.addEventListener('resize', ()=> ScrollTrigger.refresh() );
</script>
</body>
</html>